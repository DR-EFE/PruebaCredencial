{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":43,"index":122}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"../store/useAuthStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":53,"index":176}}],"key":"h7uH8UCvHDKfyfnPDiYXJh4fczY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _libSupabase = require(_dependencyMap[1], \"../lib/supabase\");\n  var _storeUseAuthStore = require(_dependencyMap[2], \"../store/useAuthStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    session: null,\n    loading: true\n  });\n  const useAuth = () => {\n    _s();\n    return (0, _react.useContext)(AuthContext);\n  };\n  _s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  const AuthProvider = ({\n    children\n  }) => {\n    _s2();\n    const [session, setSession] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const {\n      setUser,\n      setProfesor,\n      setLoading: setStoreLoading\n    } = (0, _storeUseAuthStore.useAuthStore)();\n    (0, _react.useEffect)(() => {\n      // Obtener sesión inicial\n      _libSupabase.supabase.auth.getSession().then(({\n        data: {\n          session\n        }\n      }) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          // Cargar datos del profesor\n          loadProfesor(session.user.id);\n        } else {\n          setLoading(false);\n          setStoreLoading(false);\n        }\n      });\n\n      // Escuchar cambios de autenticación\n      const {\n        data: {\n          subscription\n        }\n      } = _libSupabase.supabase.auth.onAuthStateChange((_event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          loadProfesor(session.user.id);\n        } else {\n          setProfesor(null);\n          setLoading(false);\n          setStoreLoading(false);\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n    const loadProfesor = async userId => {\n      try {\n        const {\n          data,\n          error\n        } = await _libSupabase.supabase.from('profesores').select('*').eq('id', userId).single();\n        if (error) throw error;\n        setProfesor(data);\n      } catch (error) {\n        console.error('Error loading profesor:', error);\n        setProfesor(null);\n      } finally {\n        setLoading(false);\n        setStoreLoading(false);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        session,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this);\n  };\n  _s2(AuthProvider, \"d5hYncVnrbYTvnaajzC1sifhJKE=\", false, function () {\n    return [_storeUseAuthStore.useAuthStore];\n  });\n  _c = AuthProvider;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":116,"map":[[10,2,16,0,"Object"],[10,8,16,0],[10,9,16,0,"defineProperty"],[10,23,16,0],[10,24,16,0,"exports"],[10,31,16,0],[11,4,16,0,"enumerable"],[11,14,16,0],[12,4,16,0,"get"],[12,7,16,0],[12,18,16,0,"get"],[12,19,16,0],[13,6,16,0],[13,13,16,0,"useAuth"],[13,20,16,0],[14,4,16,0],[15,2,16,0],[16,2,18,0,"Object"],[16,8,18,0],[16,9,18,0,"defineProperty"],[16,23,18,0],[16,24,18,0,"exports"],[16,31,18,0],[17,4,18,0,"enumerable"],[17,14,18,0],[18,4,18,0,"get"],[18,7,18,0],[18,18,18,0,"get"],[18,19,18,0],[19,6,18,0],[19,13,18,0,"AuthProvider"],[19,25,18,0],[20,4,18,0],[21,2,18,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_libSupabase"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_storeUseAuthStore"],[24,24,3,0],[24,27,3,0,"require"],[24,34,3,0],[24,35,3,0,"_dependencyMap"],[24,49,3,0],[25,2,3,53],[25,6,3,53,"_reactJsxDevRuntime"],[25,25,3,53],[25,28,3,53,"require"],[25,35,3,53],[25,36,3,53,"_dependencyMap"],[25,50,3,53],[26,2,11,0],[26,8,11,6,"AuthContext"],[26,19,11,17],[26,35,11,20],[26,39,11,20,"createContext"],[26,45,11,33],[26,46,11,33,"createContext"],[26,59,11,33],[26,61,11,51],[27,4,12,2,"session"],[27,11,12,9],[27,13,12,11],[27,17,12,15],[28,4,13,2,"loading"],[28,11,13,9],[28,13,13,11],[29,2,14,0],[29,3,14,1],[29,4,14,2],[30,2,16,7],[30,8,16,13,"useAuth"],[30,15,16,20],[30,18,16,23,"useAuth"],[30,19,16,23],[31,4,16,23,"_s"],[31,6,16,23],[32,4,16,23],[32,11,16,29],[32,15,16,29,"useContext"],[32,21,16,39],[32,22,16,39,"useContext"],[32,32,16,39],[32,34,16,40,"AuthContext"],[32,45,16,51],[32,46,16,52],[33,2,16,52],[34,2,16,53,"_s"],[34,4,16,53],[34,5,16,13,"useAuth"],[34,12,16,20],[35,2,18,7],[35,8,18,13,"AuthProvider"],[35,20,18,25],[35,23,18,28,"AuthProvider"],[35,24,18,29],[36,4,18,31,"children"],[37,2,18,71],[37,3,18,72],[37,8,18,77],[38,4,18,77,"_s2"],[38,7,18,77],[39,4,19,2],[39,10,19,8],[39,11,19,9,"session"],[39,18,19,16],[39,20,19,18,"setSession"],[39,30,19,28],[39,31,19,29],[39,34,19,32],[39,38,19,32,"useState"],[39,44,19,40],[39,45,19,40,"useState"],[39,53,19,40],[39,55,19,57],[39,59,19,61],[39,60,19,62],[40,4,20,2],[40,10,20,8],[40,11,20,9,"loading"],[40,18,20,16],[40,20,20,18,"setLoading"],[40,30,20,28],[40,31,20,29],[40,34,20,32],[40,38,20,32,"useState"],[40,44,20,40],[40,45,20,40,"useState"],[40,53,20,40],[40,55,20,41],[40,59,20,45],[40,60,20,46],[41,4,21,2],[41,10,21,8],[42,6,21,10,"setUser"],[42,13,21,17],[43,6,21,19,"setProfesor"],[43,17,21,30],[44,6,21,32,"setLoading"],[44,16,21,42],[44,18,21,44,"setStoreLoading"],[45,4,21,60],[45,5,21,61],[45,8,21,64],[45,12,21,64,"useAuthStore"],[45,30,21,76],[45,31,21,76,"useAuthStore"],[45,43,21,76],[45,45,21,77],[45,46,21,78],[46,4,23,2],[46,8,23,2,"useEffect"],[46,14,23,11],[46,15,23,11,"useEffect"],[46,24,23,11],[46,26,23,12],[46,32,23,18],[47,6,24,4],[48,6,25,4,"supabase"],[48,18,25,12],[48,19,25,12,"supabase"],[48,27,25,12],[48,28,25,13,"auth"],[48,32,25,17],[48,33,25,18,"getSession"],[48,43,25,28],[48,44,25,29],[48,45,25,30],[48,46,25,31,"then"],[48,50,25,35],[48,51,25,36],[48,52,25,37],[49,8,25,39,"data"],[49,12,25,43],[49,14,25,45],[50,10,25,47,"session"],[51,8,25,55],[52,6,25,57],[52,7,25,58],[52,12,25,63],[53,8,26,6,"setSession"],[53,18,26,16],[53,19,26,17,"session"],[53,26,26,24],[53,27,26,25],[54,8,27,6,"setUser"],[54,15,27,13],[54,16,27,14,"session"],[54,23,27,21],[54,25,27,23,"user"],[54,29,27,27],[54,33,27,31],[54,37,27,35],[54,38,27,36],[55,8,29,6],[55,12,29,10,"session"],[55,19,29,17],[55,21,29,19,"user"],[55,25,29,23],[55,27,29,25],[56,10,30,8],[57,10,31,8,"loadProfesor"],[57,22,31,20],[57,23,31,21,"session"],[57,30,31,28],[57,31,31,29,"user"],[57,35,31,33],[57,36,31,34,"id"],[57,38,31,36],[57,39,31,37],[58,8,32,6],[58,9,32,7],[58,15,32,13],[59,10,33,8,"setLoading"],[59,20,33,18],[59,21,33,19],[59,26,33,24],[59,27,33,25],[60,10,34,8,"setStoreLoading"],[60,25,34,23],[60,26,34,24],[60,31,34,29],[60,32,34,30],[61,8,35,6],[62,6,36,4],[62,7,36,5],[62,8,36,6],[64,6,38,4],[65,6,39,4],[65,12,39,10],[66,8,39,12,"data"],[66,12,39,16],[66,14,39,18],[67,10,39,20,"subscription"],[68,8,39,33],[69,6,39,35],[69,7,39,36],[69,10,39,39,"supabase"],[69,22,39,47],[69,23,39,47,"supabase"],[69,31,39,47],[69,32,39,48,"auth"],[69,36,39,52],[69,37,39,53,"onAuthStateChange"],[69,54,39,70],[69,55,39,71],[69,56,39,72,"_event"],[69,62,39,78],[69,64,39,80,"session"],[69,71,39,87],[69,76,39,92],[70,8,40,6,"setSession"],[70,18,40,16],[70,19,40,17,"session"],[70,26,40,24],[70,27,40,25],[71,8,41,6,"setUser"],[71,15,41,13],[71,16,41,14,"session"],[71,23,41,21],[71,25,41,23,"user"],[71,29,41,27],[71,33,41,31],[71,37,41,35],[71,38,41,36],[72,8,43,6],[72,12,43,10,"session"],[72,19,43,17],[72,21,43,19,"user"],[72,25,43,23],[72,27,43,25],[73,10,44,8,"loadProfesor"],[73,22,44,20],[73,23,44,21,"session"],[73,30,44,28],[73,31,44,29,"user"],[73,35,44,33],[73,36,44,34,"id"],[73,38,44,36],[73,39,44,37],[74,8,45,6],[74,9,45,7],[74,15,45,13],[75,10,46,8,"setProfesor"],[75,21,46,19],[75,22,46,20],[75,26,46,24],[75,27,46,25],[76,10,47,8,"setLoading"],[76,20,47,18],[76,21,47,19],[76,26,47,24],[76,27,47,25],[77,10,48,8,"setStoreLoading"],[77,25,48,23],[77,26,48,24],[77,31,48,29],[77,32,48,30],[78,8,49,6],[79,6,50,4],[79,7,50,5],[79,8,50,6],[80,6,52,4],[80,13,52,11],[80,19,52,17,"subscription"],[80,31,52,29],[80,32,52,30,"unsubscribe"],[80,43,52,41],[80,44,52,42],[80,45,52,43],[81,4,53,2],[81,5,53,3],[81,7,53,5],[81,9,53,7],[81,10,53,8],[82,4,55,2],[82,10,55,8,"loadProfesor"],[82,22,55,20],[82,25,55,23],[82,31,55,30,"userId"],[82,37,55,44],[82,41,55,49],[83,6,56,4],[83,10,56,8],[84,8,57,6],[84,14,57,12],[85,10,57,14,"data"],[85,14,57,18],[86,10,57,20,"error"],[87,8,57,26],[87,9,57,27],[87,12,57,30],[87,18,57,36,"supabase"],[87,30,57,44],[87,31,57,44,"supabase"],[87,39,57,44],[87,40,58,9,"from"],[87,44,58,13],[87,45,58,14],[87,57,58,26],[87,58,58,27],[87,59,59,9,"select"],[87,65,59,15],[87,66,59,16],[87,69,59,19],[87,70,59,20],[87,71,60,9,"eq"],[87,73,60,11],[87,74,60,12],[87,78,60,16],[87,80,60,18,"userId"],[87,86,60,24],[87,87,60,25],[87,88,61,9,"single"],[87,94,61,15],[87,95,61,16],[87,96,61,17],[88,8,63,6],[88,12,63,10,"error"],[88,17,63,15],[88,19,63,17],[88,25,63,23,"error"],[88,30,63,28],[89,8,64,6,"setProfesor"],[89,19,64,17],[89,20,64,18,"data"],[89,24,64,22],[89,25,64,23],[90,6,65,4],[90,7,65,5],[90,8,65,6],[90,15,65,13,"error"],[90,20,65,18],[90,22,65,20],[91,8,66,6,"console"],[91,15,66,13],[91,16,66,14,"error"],[91,21,66,19],[91,22,66,20],[91,47,66,45],[91,49,66,47,"error"],[91,54,66,52],[91,55,66,53],[92,8,67,6,"setProfesor"],[92,19,67,17],[92,20,67,18],[92,24,67,22],[92,25,67,23],[93,6,68,4],[93,7,68,5],[93,16,68,14],[94,8,69,6,"setLoading"],[94,18,69,16],[94,19,69,17],[94,24,69,22],[94,25,69,23],[95,8,70,6,"setStoreLoading"],[95,23,70,21],[95,24,70,22],[95,29,70,27],[95,30,70,28],[96,6,71,4],[97,4,72,2],[97,5,72,3],[98,4,74,2],[98,24,75,4],[98,28,75,4,"_reactJsxDevRuntime"],[98,47,75,4],[98,48,75,4,"jsxDEV"],[98,54,75,4],[98,56,75,5,"AuthContext"],[98,67,75,16],[98,68,75,17,"Provider"],[98,76,75,25],[99,6,75,26,"value"],[99,11,75,31],[99,13,75,33],[100,8,75,35,"session"],[100,15,75,42],[101,8,75,44,"loading"],[102,6,75,52],[102,7,75,54],[103,6,75,54,"children"],[103,14,75,54],[103,16,76,7,"children"],[104,4,76,15],[105,6,76,15,"fileName"],[105,14,76,15],[105,16,76,15,"_jsxFileName"],[105,28,76,15],[106,6,76,15,"lineNumber"],[106,16,76,15],[107,6,76,15,"columnNumber"],[107,18,76,15],[108,4,76,15],[108,11,77,26],[108,12,77,27],[109,2,79,0],[109,3,79,1],[110,2,79,2,"_s2"],[110,5,79,2],[110,6,18,13,"AuthProvider"],[110,18,18,25],[111,4,18,25],[111,12,21,64,"useAuthStore"],[111,30,21,76],[111,31,21,76,"useAuthStore"],[111,43,21,76],[112,2,21,76],[113,2,21,76,"_c"],[113,4,21,76],[113,7,18,13,"AuthProvider"],[113,19,18,25],[114,2,18,25],[114,6,18,25,"_c"],[114,8,18,25],[115,2,18,25,"$RefreshReg$"],[115,14,18,25],[115,15,18,25,"_c"],[115,17,18,25],[116,0,18,25],[116,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","loadProfesor"],"mappings":"AAA;uBCe,6BD;4BEE;YCK;oCCE;KDW;uEEG;KFW;WGE,gCH;GDC;uBKE;GLiB;CFO"},"hasCjsExports":false},"type":"js/module"}]}