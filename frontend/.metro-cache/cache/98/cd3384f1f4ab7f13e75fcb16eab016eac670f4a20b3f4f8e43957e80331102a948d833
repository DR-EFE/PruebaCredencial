{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":43,"index":122}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"../store/useAuthStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":53,"index":176}}],"key":"h7uH8UCvHDKfyfnPDiYXJh4fczY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _libSupabase = require(_dependencyMap[3], \"../lib/supabase\");\n  var _storeUseAuthStore = require(_dependencyMap[4], \"../store/useAuthStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    session: null,\n    loading: true\n  });\n  var useAuth = () => {\n    _s();\n    return (0, _react.useContext)(AuthContext);\n  };\n  _s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  var AuthProvider = _ref => {\n    _s2();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      session = _useState2[0],\n      setSession = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    var _useAuthStore = (0, _storeUseAuthStore.useAuthStore)(),\n      setUser = _useAuthStore.setUser,\n      setProfesor = _useAuthStore.setProfesor,\n      setStoreLoading = _useAuthStore.setLoading;\n    (0, _react.useEffect)(() => {\n      // Obtener sesión inicial\n      _libSupabase.supabase.auth.getSession().then(_ref2 => {\n        var session = _ref2.data.session;\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          // Cargar datos del profesor\n          loadProfesor(session.user.id);\n        } else {\n          setLoading(false);\n          setStoreLoading(false);\n        }\n      });\n\n      // Escuchar cambios de autenticación\n      var _supabase$auth$onAuth = _libSupabase.supabase.auth.onAuthStateChange((_event, session) => {\n          setSession(session);\n          setUser(session?.user ?? null);\n          if (session?.user) {\n            loadProfesor(session.user.id);\n          } else {\n            setProfesor(null);\n            setLoading(false);\n            setStoreLoading(false);\n          }\n        }),\n        subscription = _supabase$auth$onAuth.data.subscription;\n      return () => subscription.unsubscribe();\n    }, []);\n    var loadProfesor = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (userId) {\n        try {\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('profesores').select('*').eq('id', userId).single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          setProfesor(data);\n        } catch (error) {\n          console.error('Error loading profesor:', error);\n          setProfesor(null);\n        } finally {\n          setLoading(false);\n          setStoreLoading(false);\n        }\n      });\n      return function loadProfesor(_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        session,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this);\n  };\n  _s2(AuthProvider, \"d5hYncVnrbYTvnaajzC1sifhJKE=\", false, function () {\n    return [_storeUseAuthStore.useAuthStore];\n  });\n  _c = AuthProvider;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":127,"map":[[15,2,16,0,"Object"],[15,8,16,0],[15,9,16,0,"defineProperty"],[15,23,16,0],[15,24,16,0,"exports"],[15,31,16,0],[16,4,16,0,"enumerable"],[16,14,16,0],[17,4,16,0,"get"],[17,7,16,0],[17,18,16,0,"get"],[17,19,16,0],[18,6,16,0],[18,13,16,0,"useAuth"],[18,20,16,0],[19,4,16,0],[20,2,16,0],[21,2,18,0,"Object"],[21,8,18,0],[21,9,18,0,"defineProperty"],[21,23,18,0],[21,24,18,0,"exports"],[21,31,18,0],[22,4,18,0,"enumerable"],[22,14,18,0],[23,4,18,0,"get"],[23,7,18,0],[23,18,18,0,"get"],[23,19,18,0],[24,6,18,0],[24,13,18,0,"AuthProvider"],[24,25,18,0],[25,4,18,0],[26,2,18,0],[27,2,79,2],[27,6,79,2,"_babelRuntimeHelpersAsyncToGenerator"],[27,42,79,2],[27,45,79,2,"require"],[27,52,79,2],[27,53,79,2,"_dependencyMap"],[27,67,79,2],[28,2,79,2],[28,6,79,2,"_asyncToGenerator"],[28,23,79,2],[28,26,79,2,"_interopDefault"],[28,41,79,2],[28,42,79,2,"_babelRuntimeHelpersAsyncToGenerator"],[28,78,79,2],[29,2,79,2],[29,6,79,2,"_babelRuntimeHelpersSlicedToArray"],[29,39,79,2],[29,42,79,2,"require"],[29,49,79,2],[29,50,79,2,"_dependencyMap"],[29,64,79,2],[30,2,79,2],[30,6,79,2,"_slicedToArray"],[30,20,79,2],[30,23,79,2,"_interopDefault"],[30,38,79,2],[30,39,79,2,"_babelRuntimeHelpersSlicedToArray"],[30,72,79,2],[31,2,1,0],[31,6,1,0,"_react"],[31,12,1,0],[31,15,1,0,"require"],[31,22,1,0],[31,23,1,0,"_dependencyMap"],[31,37,1,0],[32,2,2,0],[32,6,2,0,"_libSupabase"],[32,18,2,0],[32,21,2,0,"require"],[32,28,2,0],[32,29,2,0,"_dependencyMap"],[32,43,2,0],[33,2,3,0],[33,6,3,0,"_storeUseAuthStore"],[33,24,3,0],[33,27,3,0,"require"],[33,34,3,0],[33,35,3,0,"_dependencyMap"],[33,49,3,0],[34,2,3,53],[34,6,3,53,"_reactJsxDevRuntime"],[34,25,3,53],[34,28,3,53,"require"],[34,35,3,53],[34,36,3,53,"_dependencyMap"],[34,50,3,53],[35,2,11,0],[35,6,11,6,"AuthContext"],[35,17,11,17],[35,33,11,20],[35,37,11,20,"createContext"],[35,43,11,33],[35,44,11,33,"createContext"],[35,57,11,33],[35,59,11,51],[36,4,12,2,"session"],[36,11,12,9],[36,13,12,11],[36,17,12,15],[37,4,13,2,"loading"],[37,11,13,9],[37,13,13,11],[38,2,14,0],[38,3,14,1],[38,4,14,2],[39,2,16,7],[39,6,16,13,"useAuth"],[39,13,16,20],[39,16,16,23,"useAuth"],[39,17,16,23],[40,4,16,23,"_s"],[40,6,16,23],[41,4,16,23],[41,11,16,29],[41,15,16,29,"useContext"],[41,21,16,39],[41,22,16,39,"useContext"],[41,32,16,39],[41,34,16,40,"AuthContext"],[41,45,16,51],[41,46,16,52],[42,2,16,52],[43,2,16,53,"_s"],[43,4,16,53],[43,5,16,13,"useAuth"],[43,12,16,20],[44,2,18,7],[44,6,18,13,"AuthProvider"],[44,18,18,25],[44,21,18,28,"_ref"],[44,25,18,28],[44,29,18,77],[45,4,18,77,"_s2"],[45,7,18,77],[46,4,18,77],[46,8,18,31,"children"],[46,16,18,39],[46,19,18,39,"_ref"],[46,23,18,39],[46,24,18,31,"children"],[46,32,18,39],[47,4,19,2],[47,8,19,2,"_useState"],[47,17,19,2],[47,20,19,32],[47,24,19,32,"useState"],[47,30,19,40],[47,31,19,40,"useState"],[47,39,19,40],[47,41,19,57],[47,45,19,61],[47,46,19,62],[48,6,19,62,"_useState2"],[48,16,19,62],[48,23,19,62,"_slicedToArray"],[48,37,19,62],[48,38,19,62,"default"],[48,45,19,62],[48,47,19,62,"_useState"],[48,56,19,62],[49,6,19,9,"session"],[49,13,19,16],[49,16,19,16,"_useState2"],[49,26,19,16],[50,6,19,18,"setSession"],[50,16,19,28],[50,19,19,28,"_useState2"],[50,29,19,28],[51,4,20,2],[51,8,20,2,"_useState3"],[51,18,20,2],[51,21,20,32],[51,25,20,32,"useState"],[51,31,20,40],[51,32,20,40,"useState"],[51,40,20,40],[51,42,20,41],[51,46,20,45],[51,47,20,46],[52,6,20,46,"_useState4"],[52,16,20,46],[52,23,20,46,"_slicedToArray"],[52,37,20,46],[52,38,20,46,"default"],[52,45,20,46],[52,47,20,46,"_useState3"],[52,57,20,46],[53,6,20,9,"loading"],[53,13,20,16],[53,16,20,16,"_useState4"],[53,26,20,16],[54,6,20,18,"setLoading"],[54,16,20,28],[54,19,20,28,"_useState4"],[54,29,20,28],[55,4,21,2],[55,8,21,2,"_useAuthStore"],[55,21,21,2],[55,24,21,64],[55,28,21,64,"useAuthStore"],[55,46,21,76],[55,47,21,76,"useAuthStore"],[55,59,21,76],[55,61,21,77],[55,62,21,78],[56,6,21,10,"setUser"],[56,13,21,17],[56,16,21,17,"_useAuthStore"],[56,29,21,17],[56,30,21,10,"setUser"],[56,37,21,17],[57,6,21,19,"setProfesor"],[57,17,21,30],[57,20,21,30,"_useAuthStore"],[57,33,21,30],[57,34,21,19,"setProfesor"],[57,45,21,30],[58,6,21,44,"setStoreLoading"],[58,21,21,59],[58,24,21,59,"_useAuthStore"],[58,37,21,59],[58,38,21,32,"setLoading"],[58,48,21,42],[59,4,23,2],[59,8,23,2,"useEffect"],[59,14,23,11],[59,15,23,11,"useEffect"],[59,24,23,11],[59,26,23,12],[59,32,23,18],[60,6,24,4],[61,6,25,4,"supabase"],[61,18,25,12],[61,19,25,12,"supabase"],[61,27,25,12],[61,28,25,13,"auth"],[61,32,25,17],[61,33,25,18,"getSession"],[61,43,25,28],[61,44,25,29],[61,45,25,30],[61,46,25,31,"then"],[61,50,25,35],[61,51,25,36,"_ref2"],[61,56,25,36],[61,60,25,63],[62,8,25,63],[62,12,25,47,"session"],[62,19,25,54],[62,22,25,54,"_ref2"],[62,27,25,54],[62,28,25,39,"data"],[62,32,25,43],[62,33,25,47,"session"],[62,40,25,54],[63,8,26,6,"setSession"],[63,18,26,16],[63,19,26,17,"session"],[63,26,26,24],[63,27,26,25],[64,8,27,6,"setUser"],[64,15,27,13],[64,16,27,14,"session"],[64,23,27,21],[64,25,27,23,"user"],[64,29,27,27],[64,33,27,31],[64,37,27,35],[64,38,27,36],[65,8,29,6],[65,12,29,10,"session"],[65,19,29,17],[65,21,29,19,"user"],[65,25,29,23],[65,27,29,25],[66,10,30,8],[67,10,31,8,"loadProfesor"],[67,22,31,20],[67,23,31,21,"session"],[67,30,31,28],[67,31,31,29,"user"],[67,35,31,33],[67,36,31,34,"id"],[67,38,31,36],[67,39,31,37],[68,8,32,6],[68,9,32,7],[68,15,32,13],[69,10,33,8,"setLoading"],[69,20,33,18],[69,21,33,19],[69,26,33,24],[69,27,33,25],[70,10,34,8,"setStoreLoading"],[70,25,34,23],[70,26,34,24],[70,31,34,29],[70,32,34,30],[71,8,35,6],[72,6,36,4],[72,7,36,5],[72,8,36,6],[74,6,38,4],[75,6,39,4],[75,10,39,4,"_supabase$auth$onAuth"],[75,31,39,4],[75,34,39,39,"supabase"],[75,46,39,47],[75,47,39,47,"supabase"],[75,55,39,47],[75,56,39,48,"auth"],[75,60,39,52],[75,61,39,53,"onAuthStateChange"],[75,78,39,70],[75,79,39,71],[75,80,39,72,"_event"],[75,86,39,78],[75,88,39,80,"session"],[75,95,39,87],[75,100,39,92],[76,10,40,6,"setSession"],[76,20,40,16],[76,21,40,17,"session"],[76,28,40,24],[76,29,40,25],[77,10,41,6,"setUser"],[77,17,41,13],[77,18,41,14,"session"],[77,25,41,21],[77,27,41,23,"user"],[77,31,41,27],[77,35,41,31],[77,39,41,35],[77,40,41,36],[78,10,43,6],[78,14,43,10,"session"],[78,21,43,17],[78,23,43,19,"user"],[78,27,43,23],[78,29,43,25],[79,12,44,8,"loadProfesor"],[79,24,44,20],[79,25,44,21,"session"],[79,32,44,28],[79,33,44,29,"user"],[79,37,44,33],[79,38,44,34,"id"],[79,40,44,36],[79,41,44,37],[80,10,45,6],[80,11,45,7],[80,17,45,13],[81,12,46,8,"setProfesor"],[81,23,46,19],[81,24,46,20],[81,28,46,24],[81,29,46,25],[82,12,47,8,"setLoading"],[82,22,47,18],[82,23,47,19],[82,28,47,24],[82,29,47,25],[83,12,48,8,"setStoreLoading"],[83,27,48,23],[83,28,48,24],[83,33,48,29],[83,34,48,30],[84,10,49,6],[85,8,50,4],[85,9,50,5],[85,10,50,6],[86,8,39,20,"subscription"],[86,20,39,32],[86,23,39,32,"_supabase$auth$onAuth"],[86,44,39,32],[86,45,39,12,"data"],[86,49,39,16],[86,50,39,20,"subscription"],[86,62,39,32],[87,6,52,4],[87,13,52,11],[87,19,52,17,"subscription"],[87,31,52,29],[87,32,52,30,"unsubscribe"],[87,43,52,41],[87,44,52,42],[87,45,52,43],[88,4,53,2],[88,5,53,3],[88,7,53,5],[88,9,53,7],[88,10,53,8],[89,4,55,2],[89,8,55,8,"loadProfesor"],[89,20,55,20],[90,6,55,20],[90,10,55,20,"_ref3"],[90,15,55,20],[90,22,55,20,"_asyncToGenerator"],[90,39,55,20],[90,40,55,20,"default"],[90,47,55,20],[90,49,55,23],[90,60,55,30,"userId"],[90,66,55,44],[90,68,55,49],[91,8,56,4],[91,12,56,8],[92,10,57,6],[92,14,57,6,"_yield$supabase$from$"],[92,35,57,6],[92,44,57,36,"supabase"],[92,56,57,44],[92,57,57,44,"supabase"],[92,65,57,44],[92,66,58,9,"from"],[92,70,58,13],[92,71,58,14],[92,83,58,26],[92,84,58,27],[92,85,59,9,"select"],[92,91,59,15],[92,92,59,16],[92,95,59,19],[92,96,59,20],[92,97,60,9,"eq"],[92,99,60,11],[92,100,60,12],[92,104,60,16],[92,106,60,18,"userId"],[92,112,60,24],[92,113,60,25],[92,114,61,9,"single"],[92,120,61,15],[92,121,61,16],[92,122,61,17],[93,12,57,14,"data"],[93,16,57,18],[93,19,57,18,"_yield$supabase$from$"],[93,40,57,18],[93,41,57,14,"data"],[93,45,57,18],[94,12,57,20,"error"],[94,17,57,25],[94,20,57,25,"_yield$supabase$from$"],[94,41,57,25],[94,42,57,20,"error"],[94,47,57,25],[95,10,63,6],[95,14,63,10,"error"],[95,19,63,15],[95,21,63,17],[95,27,63,23,"error"],[95,32,63,28],[96,10,64,6,"setProfesor"],[96,21,64,17],[96,22,64,18,"data"],[96,26,64,22],[96,27,64,23],[97,8,65,4],[97,9,65,5],[97,10,65,6],[97,17,65,13,"error"],[97,22,65,18],[97,24,65,20],[98,10,66,6,"console"],[98,17,66,13],[98,18,66,14,"error"],[98,23,66,19],[98,24,66,20],[98,49,66,45],[98,51,66,47,"error"],[98,56,66,52],[98,57,66,53],[99,10,67,6,"setProfesor"],[99,21,67,17],[99,22,67,18],[99,26,67,22],[99,27,67,23],[100,8,68,4],[100,9,68,5],[100,18,68,14],[101,10,69,6,"setLoading"],[101,20,69,16],[101,21,69,17],[101,26,69,22],[101,27,69,23],[102,10,70,6,"setStoreLoading"],[102,25,70,21],[102,26,70,22],[102,31,70,27],[102,32,70,28],[103,8,71,4],[104,6,72,2],[104,7,72,3],[105,6,72,3],[105,22,55,8,"loadProfesor"],[105,34,55,20,"loadProfesor"],[105,35,55,20,"_x"],[105,37,55,20],[106,8,55,20],[106,15,55,20,"_ref3"],[106,20,55,20],[106,21,55,20,"apply"],[106,26,55,20],[106,33,55,20,"arguments"],[106,42,55,20],[107,6,55,20],[108,4,55,20],[108,7,72,3],[109,4,74,2],[109,24,75,4],[109,28,75,4,"_reactJsxDevRuntime"],[109,47,75,4],[109,48,75,4,"jsxDEV"],[109,54,75,4],[109,56,75,5,"AuthContext"],[109,67,75,16],[109,68,75,17,"Provider"],[109,76,75,25],[110,6,75,26,"value"],[110,11,75,31],[110,13,75,33],[111,8,75,35,"session"],[111,15,75,42],[112,8,75,44,"loading"],[113,6,75,52],[113,7,75,54],[114,6,75,54,"children"],[114,14,75,54],[114,16,76,7,"children"],[115,4,76,15],[116,6,76,15,"fileName"],[116,14,76,15],[116,16,76,15,"_jsxFileName"],[116,28,76,15],[117,6,76,15,"lineNumber"],[117,16,76,15],[118,6,76,15,"columnNumber"],[118,18,76,15],[119,4,76,15],[119,11,77,26],[119,12,77,27],[120,2,79,0],[120,3,79,1],[121,2,79,2,"_s2"],[121,5,79,2],[121,6,18,13,"AuthProvider"],[121,18,18,25],[122,4,18,25],[122,12,21,64,"useAuthStore"],[122,30,21,76],[122,31,21,76,"useAuthStore"],[122,43,21,76],[123,2,21,76],[124,2,21,76,"_c"],[124,4,21,76],[124,7,18,13,"AuthProvider"],[124,19,18,25],[125,2,18,25],[125,6,18,25,"_c"],[125,8,18,25],[126,2,18,25,"$RefreshReg$"],[126,14,18,25],[126,15,18,25,"_c"],[126,17,18,25],[127,0,18,25],[127,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","loadProfesor"],"mappings":"AAA;uBCe,6BD;4BEE;YCK;oCCE;KDW;uEEG;KFW;WGE,gCH;GDC;uBKE;GLiB;CFO"},"hasCjsExports":false},"type":"js/module"}]}